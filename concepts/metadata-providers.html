
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Metadata Providers Â· cornerstone</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="A Metadata Provider is a JavaScript function that acts as an interface for accessing metadata related to Images in Cornerstone.">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-cornerstone/cornerstone.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="rendering-pipeline.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                



<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation.html">
            
                <a href="../installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="enabled-elements.html">
            
                <a href="enabled-elements.html">
            
                    
                    Enabled Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="image-ids.html">
            
                <a href="image-ids.html">
            
                    
                    Image Ids
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="image-loaders.html">
            
                <a href="image-loaders.html">
            
                    
                    Image Loaders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="viewports.html">
            
                <a href="viewports.html">
            
                    
                    Viewports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="images.html">
            
                <a href="images.html">
            
                    
                    Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="pixel-coordinate-system.html">
            
                <a href="pixel-coordinate-system.html">
            
                    
                    Pixel Coordinate System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="rendering-loop.html">
            
                <a href="rendering-loop.html">
            
                    
                    Rendering Loop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="libraries.html">
            
                <a href="libraries.html">
            
                    
                    Libraries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="rendering-pipeline.html">
            
                <a href="rendering-pipeline.html">
            
                    
                    Rendering Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.10" data-path="metadata-providers.html">
            
                <a href="metadata-providers.html">
            
                    
                    Metadata Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Advanced
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/image-cache.html">
            
                <a href="../advanced/image-cache.html">
            
                    
                    Image Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced/enabled-element-layers.html">
            
                <a href="../advanced/enabled-element-layers.html">
            
                    
                    Enabled Element Layers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced/modality-lut-and-voi-lut.html">
            
                <a href="../advanced/modality-lut-and-voi-lut.html">
            
                    
                    Modality LUT and VOI LUT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced/color-lookup-tables.html">
            
                <a href="../advanced/color-lookup-tables.html">
            
                    
                    Color Lookup Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced/webgl-rendering-pipeline.html">
            
                <a href="../advanced/webgl-rendering-pipeline.html">
            
                    
                    WebGL Rendering Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../advanced/retrieving-pixel-data.html">
            
                <a href="../advanced/retrieving-pixel-data.html">
            
                    
                    Retrieving Pixel Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../advanced/legacy-browser-support.html">
            
                <a href="../advanced/legacy-browser-support.html">
            
                    
                    Legacy Browser Support
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../integration.html">
            
                <a href="../integration.html">
            
                    
                    Integration With React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <a target="_blank" href="https://rawgit.com/cornerstonejs/cornerstone/master/example/index.html">
            
                    
                    Live Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../api.html">
            
                <a href="../api.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../contributing.html">
            
                <a href="../contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../developer-guide.html">
            
                <a href="../developer-guide.html">
            
                    
                    Developer Guide
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>



                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
  
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Metadata Providers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="metadata-providers"><a name="metadata-providers" class="plugin-anchor" href="#metadata-providers"><i class="fa fa-link" aria-hidden="true"></i></a>Metadata Providers</h1>
<blockquote>
<p>A <strong>Metadata Provider</strong> is a JavaScript function that acts as an interface for accessing metadata related to Images in Cornerstone. Users can define their own provider functions in order to return any metadata they wish for each specific image.</p>
</blockquote>
<p>Medical images typically come with lots of non-pixel-wise metadata such as for example, the pixel spacing of the image, the patient ID, or the scan acquisition date. With some file types (e.g. DICOM), this information is stored within the file header and can be read and parsed and passed around your application. With others (e.g. JPEG, PNG), this information needs to be provided independently from the actual pixel data. Even for DICOM images, however, it is common for application developers to provide metadata independently from the transmission of pixel data from the server to the client since this can considerably improve performance.</p>
<p>To handle these scenarios, Cornerstone provides infrastructure for the definition and usage of <em>Metadata Providers</em>. Metadata Providers are simply functions which take in an <a href="image-ids.html">Image Id</a> and specified metadata type, and return the metadata itself.</p>
<p>Here is a simple example of a Metadata Provider which returns an Object containing Image Plane metadata for a single specific image (Image Id: &apos;ct://1&apos;):</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">metaDataProvider</span>(<span class="hljs-params">type, imageId</span>) </span>{
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&apos;imagePlaneModule&apos;</span>) {
    <span class="hljs-keyword">if</span> (imageId === <span class="hljs-string">&apos;ct://1&apos;</span>) {
        <span class="hljs-keyword">return</span> {
            frameOfReferenceUID: <span class="hljs-string">&quot;1.3.6.1.4.1.5962.99.1.2237260787.1662717184.1234892907507.1411.0&quot;</span>,
            rows: <span class="hljs-number">512</span>,
            columns: <span class="hljs-number">512</span>,
            rowCosines: {
                x: <span class="hljs-number">1</span>,
                y: <span class="hljs-number">0</span>,
                z: <span class="hljs-number">0</span>
            },
            columnCosines: {
                x: <span class="hljs-number">0</span>,
                y: <span class="hljs-number">1</span>,
                z: <span class="hljs-number">0</span>
            },
            imagePositionPatient: {
                x: <span class="hljs-number">-250</span>,
                y: <span class="hljs-number">-250</span>,
                z: <span class="hljs-number">-399.100006</span>
            },
            rowPixelSpacing: <span class="hljs-number">0.976562</span>,
            columnPixelSpacing: <span class="hljs-number">0.976562</span>
        };
    }
  }
}

<span class="hljs-comment">// Register this provider with CornerstoneJS</span>
cornerstone.metaData.addProvider(metaDataProvider);

<span class="hljs-comment">// Retrieve this metaData</span>
<span class="hljs-keyword">var</span> imagePlaneModule = cornerstone.metaData.get(<span class="hljs-string">&apos;imagePlaneModule&apos;</span>, <span class="hljs-string">&apos;ct://1&apos;</span>);
</code></pre>
<h2 id="basics"><a name="basics" class="plugin-anchor" href="#basics"><i class="fa fa-link" aria-hidden="true"></i></a>Basics</h2>
<ul>
<li>Cornerstone allows for the registration of multiple Metadata Providers.</li>
<li>Each provider can provide whichever information the developer desires.</li>
<li>When a request is made for metadata for an image, Cornerstone will iterate through the known providers until it retrieves a defined set of metadata for the specified metadata type.</li>
<li>Providers can be added to Cornerstone with an optional priority value in order to influence the order in which they are called.</li>
<li>When DICOM images are loaded by <a href="https://github.com/cornerstonejs/cornerstoneWADOImageLoader" target="_blank">Cornerstone WADO Image Loader</a>, their metadata will be parsed and added to a metadata provider automatically.</li>
<li>Within <a href="https://github.com/cornerstonejs/cornerstoneTools" target="_blank">Cornerstone Tools</a>, specific metadata types are used to provide metadata for tools.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                

            </div>

            
                
                <a href="rendering-pipeline.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Rendering Pipeline">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"description":"A Metadata Provider is a JavaScript function that acts as an interface for accessing metadata related to Images in Cornerstone.","title":"Metadata Providers","level":"1.3.10","depth":2,"next":{"title":"Advanced","level":"1.4","depth":1,"ref":"","articles":[{"title":"Image Cache","level":"1.4.1","depth":2,"path":"advanced/image-cache.md","ref":"advanced/image-cache.md","articles":[]},{"title":"Enabled Element Layers","level":"1.4.2","depth":2,"path":"advanced/enabled-element-layers.md","ref":"advanced/enabled-element-layers.md","articles":[]},{"title":"Modality LUT and VOI LUT","level":"1.4.3","depth":2,"path":"advanced/modality-lut-and-voi-lut.md","ref":"advanced/modality-lut-and-voi-lut.md","articles":[]},{"title":"Color Lookup Tables","level":"1.4.4","depth":2,"path":"advanced/color-lookup-tables.md","ref":"advanced/color-lookup-tables.md","articles":[]},{"title":"WebGL Rendering Pipeline","level":"1.4.5","depth":2,"path":"advanced/webgl-rendering-pipeline.md","ref":"advanced/webgl-rendering-pipeline.md","articles":[]},{"title":"Retrieving Pixel Data","level":"1.4.6","depth":2,"path":"advanced/retrieving-pixel-data.md","ref":"advanced/retrieving-pixel-data.md","articles":[]},{"title":"Legacy Browser Support","level":"1.4.7","depth":2,"path":"advanced/legacy-browser-support.md","ref":"advanced/legacy-browser-support.md","articles":[]}]},"previous":{"title":"Rendering Pipeline","level":"1.3.9","depth":2,"path":"concepts/rendering-pipeline.md","ref":"concepts/rendering-pipeline.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","theme-cornerstone","-fontsettings","github","ga","anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/cornerstonejs/cornerstone"},"search":{},"theme-cornerstone":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"highlight":{},"sitemap":{"hostname":"https://docs.cornerstonejs.org"},"ga":{"configuration":"auto","token":"UA-110573590-1"},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/cornerstonejs/cornerstone/edit/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"cornerstone","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":">3.0.0","description":"Documentation for Cornerstone Core"},"file":{"path":"concepts/metadata-providers.md","mtime":"2021-11-19T21:46:55.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-11-19T21:54:10.443Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    

    </body>
</html>

